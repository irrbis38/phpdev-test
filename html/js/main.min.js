function checkScrollPosition(e,t){var t=t||document.querySelector(".fitems.active"),n=t.getBoundingClientRect().bottom;(t.children[0].getBoundingClientRect().bottom-n<48?hideBlur:showBlur)(e)}function hideBlur(e){e.classList.add("scrolled")}function showBlur(e){e.classList.remove("scrolled")}function handleTabsButtons(e,t,n){var o=e.classList.contains("active"),e=e.dataset.tab;o||switchTabs(e,t,n)}function switchTabs(t,e,n){n.forEach(e=>toggleActiveElement(e,t)),e.forEach(e=>toggleActiveElement(e,t))}function toggleActiveElement(e,t){e.dataset.tab===t?e.classList.add("active"):e.classList.remove("active")}function handleInput(e){determineSelectedInputs(e),addLabel(e)}function determineSelectedInputs(e){var{inputs:e,fbutton:t,fbutton_amount:n,flabels:o}=e,e=e.filter(e=>!0===e.checked).length;0<e?(t.classList.add("checked"),o.classList.remove("empty")):(t.classList.remove("checked"),o.classList.add("empty")),n.textContent=e}function addLabel(e){var t,{input:n,flabels:o}=e,l=n.dataset.title,a=n.id,n=o.querySelector(".flabels__list"),c=Array.from(n.querySelectorAll(".flabels__btn")).find(e=>e.dataset.id===a);c?c.parentElement.remove():(c="",c="with"===o.dataset.cross?"flabels__btn flabels__btn--cross":"flabels__btn",(t=document.createElement("LI")).innerHTML=`<button class="${c}" type="button" aria-label="Удалить фильтр Академический" data-id="${a}">${l}</button>`,t.children[0].addEventListener("click",()=>handleRemoveLabel(a,t,e)),n.append(t))}function handleRemoveLabel(t,e,n){var o=n.inputs;e.remove(),o.find(e=>e.id===t).checked=!1,determineSelectedInputs(n)}document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelector(".filter__dropdown"),o=document.querySelector(".filter__items-container"),l=document.querySelectorAll(".fitems"),t=document.querySelector(".fitems.active"),n=document.querySelectorAll(".ftabs__btn"),a=Array.from(document.querySelectorAll(".fitems__input")),c=document.querySelector(".fbutton"),i=document.querySelector(".fbutton__amount"),s=document.querySelector(".flabels");c.addEventListener("click",()=>requestAnimationFrame(()=>e.classList.toggle("opened"))),requestAnimationFrame(()=>checkScrollPosition(o,t)),l.forEach(e=>e.addEventListener("scroll",()=>requestAnimationFrame(()=>checkScrollPosition(o,e)))),n.forEach((e,t,n)=>e.addEventListener("click",()=>{handleTabsButtons(e,l,n),requestAnimationFrame(()=>checkScrollPosition(o))})),a.forEach((t,e,n)=>t.addEventListener("input",()=>{var e={input:t,inputs:n,fbutton:c,fbutton_amount:i,flabels:s};requestAnimationFrame(()=>handleInput(e))}))});